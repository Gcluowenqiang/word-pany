# WordPony 项目改进清单

## 📅 生成日期：2025-07-02 15:00:00

## ✅ 已完成的改进

### 文档完善
- [x] 更新README.md项目结构，添加新文件说明
- [x] 添加增量更新功能到核心特性列表
- [x] 更新项目状态，添加增量更新状态
- [x] 在v3.0.5版本记录中添加增量更新功能说明

## 🔧 待改进事项

### 1. 代码质量 (高优先级)

#### 编译警告处理
- [ ] 修复10个未使用的导入警告
- [ ] 清理30+个未使用的函数
- [ ] 处理5个静态可变引用(unsafe)警告
- [ ] 清理10+个未使用的变量

#### 具体需要清理的未使用代码：
```rust
// commands.rs 中未使用的函数
- get_next_word
- get_previous_word
- mark_word_known
- mark_word_unknown
- get_daily_words
- update_daily_goal
- get_review_words
- backup_data
- restore_data

// services/learning.rs 中未使用的函数
- get_next_word
- get_previous_word
- get_recommended_words
- get_smart_recommended_words
- calculate_word_priority_score
- mark_word_known
- mark_word_unknown
- get_daily_words
- get_review_words
- calculate_learning_stats
- calculate_streak_days
- export_progress
- import_progress
- reset_all_progress
- update_daily_goal

// services/tts.rs 中未使用的函数
- stop_speaking
- is_speaking
- get_available_voices
- set_voice_by_name
- test_tts

// utils/config.rs 中未使用的函数
- reset_settings
- backup_user_data
- restore_user_data
- copy_dir
- get_app_data_info
- export_settings
- import_settings

// utils/hotkey.rs 中未使用的函数
- parse_shortcut
- validate_shortcut
- get_default_hotkeys
```

### 2. 安全性改进 (高优先级)

#### 修复unsafe代码
- [ ] 重构 `xml_parser.rs` 中的静态可变引用 WORDS_CACHE
- [ ] 使用线程安全的替代方案（如 once_cell 或 lazy_static）

### 3. 功能完整性 (中优先级)

#### 未集成的已实现功能
- [ ] 评估是否需要启用学习相关功能
- [ ] 评估是否需要完善TTS功能
- [ ] 评估配置备份/恢复功能的必要性

### 4. 性能优化 (低优先级)

- [ ] 优化编译时间，减少警告
- [ ] 考虑移除未使用的依赖
- [ ] 优化构建产物大小

### 5. 用户体验优化 (低优先级)

- [ ] 完善错误提示信息
- [ ] 优化加载性能
- [ ] 改进界面响应速度

## 📊 改进优先级

1. **紧急**: 无
2. **高优先级**: 代码质量问题、安全性改进
3. **中优先级**: 功能完整性评估
4. **低优先级**: 性能和用户体验优化

## 💡 建议

1. **分阶段实施**: 先处理编译警告，再评估功能必要性
2. **保持简洁**: 项目理念是"极简"，不必要的功能可以移除
3. **代码清理**: 未使用的代码建议删除而非注释，保持代码库整洁
4. **测试覆盖**: 在进行大规模清理前，确保核心功能有测试保护

## 📝 备注

- 增量更新功能虽已实现但还未在实际发布中使用
- 许多学习相关功能已实现但未在界面中暴露
- 项目整体功能完整，主要是代码清洁度问题 